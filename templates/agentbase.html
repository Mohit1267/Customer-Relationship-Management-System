{% load static %}

<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1 " />
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {% block css_link %}{% endblock %}

  <link rel="stylesheet" href="{% static 'base1.css' %}">
  <!-- <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}"> -->
  <link rel="stylesheet" href="{% static 'css/datatables/datatables.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/datatables/datatables.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> -->
  <link href="dist/hamburgers.css" rel="stylesheet">


  <title>{% block title %}title{% endblock %}</title>

</head>

<body>

  <script src="charts.js"></script>
  <!-- navbar to the right side -->

   <nav class="navbar  navbar-expand-lg">

    <div class="navbar-brand-container">
      <a href="{% url 'Dashboards'%}">
        <img class="navbar-brand " src="https://i.ibb.co/7C9zk3M/Logo.png" alt="Brand Image" style="height: 65px; ; ">
      </a>

      <!-- <a class="btn btn-light profile1" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button"
      aria-controls="offcanvasExample">
      <b>Profile</b>
      </a> -->
    </div>
  
      <div class="navbar-container" >
 
        <div class="" id="navbarNavDropdown">
          <ul class="nav-links flex-column">

            <li class="nav-item dropdown">

              <a class="nav-link  spacing" href="{% url 'Dashboards'%}" role="button"  aria-expanded="false">
                <img src="https://i.ibb.co/CPKGN54/Dashboardlogo.png" alt="Dashboard logo"  style=" margin-right: 5px;">

               Dashboard
              </a>
            </li>

            
            <li class="nav-item dropdown dashboard-icon">
              <a class="nav-link dropdown-toggle spacing" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
         
               <img src="https://i.ibb.co/jTpW1Hk/datamininglogo.png" alt="Mining Logo" style=" margin-right: 5px; ">

               Mining
             </a>
             <ul class="dropdown-menu ">
               <li><a class="dropdown-item" href="{% url 'agentmining' %}">View Mining</a></li>
             </ul>
           </li>
         
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle spacing" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">

                <img src="https://i.ibb.co/n0GfyPt/leadslogo.png" alt="Lead Logo" style=" margin-right: 5px;">

                Leads
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{% url 'agentlead' %}">Create Leads</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="{%url 'lead_data'%}">View leads</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle spacing" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">

                <img src="https://i.ibb.co/8cQkyWh/contactlogo.png" alt="Contact Logo" style=" margin-right: 5px;">

                Contacts
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{% url 'agentcontact' %}">Create Contacts</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">View Contacts</a></li>
              </ul>
            </li>


            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle spacing" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">

                <img src="https://i.ibb.co/c3sNstd/quotelogo.png" alt="Quote Logo" style=" margin-right: 5px;">

                Quotes
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{% url 'agentquote' %}">Create Quote</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">View Quote</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle spacing" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">

                <img src="https://i.ibb.co/2jvm1vC/calendarlogo.png" alt="Calendar Logo" style="margin-right: 5px;">

                Calendar
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Schedule Meeting</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">Schedule call</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown ">
              <a class="nav-link dropdown-toggle spacing" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                


                <img src="https://i.ibb.co/xF1RTTQ/opportunitylogo.png" alt="opportunity Logo" style="margin-right: 5px;">

                Opportunities
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{% url 'agentopportunity' %}">Create Opportunity</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="{% url 'opportunity_data' %}">View Opportunity</a></li>
              </ul>
            </li>

        </div>

  </nav>


  {% block content %}{% endblock %}
  <!-- <div class="offcanvas offcanvas-end"  " id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="profile1 offcanvas-header">
      <h5 class="" id="offcanvasExampleLabel"><b>Profile</b></h5>
     </div>


    <div class="offcanvas-body"  id="offcanvasExample">
      <div class="row p-2">
        <a href="{% url 'detail_profile' %}" class=" right_profile">View Profile</a>
      </div>
      <div class="row p-2">
        <a href="#" class=" right_profile" ">Edit Profile</a>
        </div>
        <hr>
        <div class=" row p-2">
          <a href="#" class=" right_profile"">Employees</a>
        </div>
        <div class=" row p-2">
            <a href="#" class=" right_profile"">Community Forum</a>
        </div>
        <div class=" row p-2">
              <a href="#" class=" right_profile"">About</a>
        </div>
        <hr>
        <div class=" row p-2">
                <a href="{% url 'logout'%}" class="right_profile ">Logout</a>
      </div>
      </div>
  </div> -->

<!-- profile section-->
    <script>
document.addEventListener('DOMContentLoaded', function () {
  const profileButton = document.querySelector('.profile1');
  const offcanvas = document.getElementById('offcanvasExample');

  // Toggle offcanvas visibility on profile button click
  profileButton.addEventListener('click', function (e) {
    e.stopPropagation(); // Prevent event from bubbling
    offcanvas.classList.toggle('show'); // Toggle the "show" class to open/close offcanvas
  });

  // Close the offcanvas when clicking outside of it
  document.addEventListener('click', function (e) {
    if (!offcanvas.contains(e.target) && !profileButton.contains(e.target)) {
      offcanvas.classList.remove('show'); // Close offcanvas if clicking outside
    }
  });

  // Ensure the close button inside the offcanvas works
  document.querySelector('.btn-close').addEventListener('click', function () {
    offcanvas.classList.remove('show'); // Close offcanvas
  });
});

    </script>

    <script>
      // Function to toggle the navbar
      function toggleNavbar() {
        const navbar = document.querySelector('.nav-links');
        navbar.style.display = navbar.style.display === 'block' ? 'none' : 'block';
      }
    </script>

     <script>
      function toggleNavbar() {
        const navbarContainer = document.querySelector('.navbar-container');
        const navbar = document.querySelector('.navbar');
        const hamburger = document.querySelector('.hamburger');

        // Toggle the 'collapsed' class on the navbar
        navbar.classList.toggle('collapsed');

       

        // Toggle the visibility of the navbar container
        if (navbarContainer.style.display === 'block') {
          navbarContainer.style.display = 'none';
        } else {
          navbarContainer.style.display = 'block';
        }
      }
    </script>
 

    <script>

      // Weekly Data Chart
      var ctxWeekly = document.getElementById('weeklyChart').getContext('2d');
      var weeklyChart = new Chart(ctxWeekly, {
        type: 'doughnut',
        data: {
          labels: ['Completed', 'Remaining'],
          datasets: [{
            label: 'Weekly Data',
            data: [parseInt('{{ mining_count }}', 10), 40 - parseInt('{{ mining_count }}', 10)],
            backgroundColor: ['#4CAF50', '#e0e0e0'],
            borderColor: ['#33CC33', '#e0e0e0'],
            borderWidth: 1
          }]
        },
        options: {
          cutout: '70%',
          plugins: {
            legend: {
              labels: {
                color: '#FFFFFF', // Font color for the legend
                font: {
                  size: 14, // Font size for the legend
                }
              }
            }
          }
        }
      });

      // Monthly Data Chart
      var ctxMonthly = document.getElementById('monthlyChart').getContext('2d');
      var monthlyChart = new Chart(ctxMonthly, {
        type: 'doughnut',
        data: {
          labels: ['Completed', 'Remaining'],
          datasets: [{
            label: 'Monthly Data',
            data: [parseInt('{{ mining_count }}', 10), 100 - parseInt('{{ mining_count }}', 10)],
            backgroundColor: ['#4CAF50', '#e0e0e0'],
            borderColor: ['#4CAF50', '#e0e0e0'],
            borderWidth: 1
          }]
        },
        options: {
          cutout: '70%',
          plugins: {
            legend: {
              labels: {
                color: '#FFFFFF', // Font color for the legend
                font: {
                  size: 14, // Font size for the legend
                }
              }
            }
          }
        }
      });

      // Quarterly Data Chart
      var ctxQuarterly = document.getElementById('quarterlyChart').getContext('2d');
      var quarterlyChart = new Chart(ctxQuarterly, {
        type: 'doughnut',
        data: {
          labels: ['Completed', 'Remaining'],
          datasets: [{
            label: 'Quarterly Data',
            data: [parseInt('{{ mining_count }}', 10), 300 - parseInt('{{ mining_count }}', 10)],
            backgroundColor: ['#4CAF50', '#e0e0e0'],
            borderColor: ['#4CAF50', '#e0e0e0'],
            borderWidth: 1
          }]
        },
        options: {
          cutout: '70%',
          plugins: {
            legend: {
              labels: {
                color: '#FFFFFF', // Font color for the legend
                font: {
                  size: 14, // Font size for the legend
                }
              }
            }
          }
        }
      });

    </script>

    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script src="% static  IBscript.js"></script>
    {% block javascript %}{% endblock %}


    <!-- Include necessary external scripts -->
    <script src="{% static 'js/bootstrap.bundle.js' %}"></script>
    <script src="{% static 'js/datatables/datatables.js' %}"></script>
    <script src="{% static 'js/datatables/datatables.min.js' %}"></script>


</body>
</html>