{% extends "agentbase.html" %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% load static %}

{% block css_link %}
    <link rel="stylesheet" href="{% static 'sales_tracker/opportunity.css' %}">
{% endblock %}

{% block title %}New Invoice{% endblock %}

{% block content %}
<div class="container-fluid">
    <form method="POST">
        {% csrf_token %}

        <!-- Title Section -->
        <div class="row mt-2 mb-2">
            <div class="col-12 text-center moving_title" style="color: white;">
                Create Invoice
            </div>
        </div>
        <hr>

        <!-- Button Section -->
        <div class="row mb-2">
            <div class="col-12 d-flex justify-content-end">
                <button type="submit" class="button1 mx-2">Submit</button>
                <button type="button" class="button2">Cancel</button>
            </div>
        </div>

        <!-- Title & Customer Details Section -->
        <div class="row">
            <div class="col-md-6 pt-5 pb-5 px-4">
                <div class="form-group">
                    {{ form.title|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.customer_name|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.assigned_to|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.due_date|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.description|as_crispy_field }}
                </div>
            </div>
        </div>

        <!-- Invoice Details Section -->
        <div class="row">
            <div class="col-md-6 pt-5 pb-5 px-4">
                <div class="form-group">
                    {{ form.invoice_number|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.quotation_number|as_crispy_field }}
                </div>
            </div>
            <div class="col-md-6 pt-5 px-4">
                <div class="form-group">
                    {{ form.invoice_date|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.status|as_crispy_field }}
                </div>
            </div>
        </div>

        <!-- Account & Contact Section -->
        <div class="row">
            <div class="col-md-6 pt-5 pb-5 px-4">
                <div class="form-group">
                    {{ form.account|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.contact|as_crispy_field }}
                </div>
            </div>
        </div>

        <!-- Address Section -->
        <div class="row">
            <div class="col-md-6 pt-5 pb-5 px-4">
                <div class="form-group">
                    {{ form.billing_address|as_crispy_field }}
                </div>
            </div>
            <div class="col-md-6 pt-5 px-4">
                <div class="form-group">
                    {{ form.shipping_address|as_crispy_field }}
                </div>
            </div>
        </div>

        <!-- Currency and Items Section -->
        <div class="row">
            <div class="col-md-6 pt-5 pb-5 px-4">
                <div class="form-group">
                    {{ form.currency|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.line_items|as_crispy_field }}
                </div>
            </div>
        </div>

        <!-- Totals Section -->
        <div class="row">
            <div class="col-12 pt-5 pb-5 px-4">
                <div class="form-group">
                    {{ form.total|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.discount|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.subtotal|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.shipping|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.adjustment|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.tax|as_crispy_field }}
                </div>
                <div class="form-group">
                    {{ form.grand_total|as_crispy_field }}
                </div>
            </div>
        </div>
    </form>
</div>
{% endblock %}

{% block javascript %}{% endblock %}
