
{% extends "adminbase.html" %}
{% load static %} 
{% block title %}Calling agent dashboard{% endblock %} 
{% block css_link %} 
<link rel="stylesheet" href="{% static 'sales_tracker/maps.css' %}"> 
{% endblock %} 

{% block content %}
<!-- <h1>{{lat}}</h1> -->
<!-- <h1>{{long}}</h1> -->
<!-- <script>
    let map

    function initMap(){
        map = new google.maps.Map(document.getElementById("map"),{
            center:{lat:-34.379 , lng: 150.644},
            zoom: 8,
        }
    );
    }

    window.initMap = initMap
</script> -->





<script>
    let map;

    function initMap() {
        // Get latitude and longitude from the context
        const latitude = {{ lat }};
        const longitude = {{ long }};

        // Create a map centered at the given latitude and longitude
        map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: latitude, lng: longitude },
            zoom: 8,
        });

        // Create a marker at the given latitude and longitude
        new google.maps.Marker({
            position: { lat: latitude, lng: longitude },
            map: map,
            title: "User Location",
        });
    }

    window.initMap = initMap;
</script>









<div class="mapholder">
    <h1>{{lat}} , {{long}}</h1>
    <div id="map">
        <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDC5IR5-5KuTsr2zrfUU04v5MBT9muhptI&callback=initMap&v=weekly"
        defer
        ></script>
    </div>
</div>
<a href="{% url 'maps' %}"> Go to the map </a>
{% endblock %}
