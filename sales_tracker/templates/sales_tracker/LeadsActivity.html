{% extends "adminbase.html" %} 
{% load static %} 
{% block title %}Calling agent dashboard{% endblock %} 
{% block css_link %} 
<link rel="stylesheet" href="{% static 'sales_tracker/LeadsActivity.css' %}"> 
{% endblock %} 
 
{% block content %} 
<div class="lead-content">
  <div class="small-container">
    

    <div class="filter-container">
        <button class="filter-toggle-btn" onclick="toggleFilter()">Filter</button>
        <div id="filterForm" class="filter-form">
            <div class="form-group">
                <label for="time_frame">Select Time Frame:</label>
                <select name="time_frame" id="time_frame">
                    <option value="all" disabled selected hidden>Select Time Frame</option> 
                    <option value="today" {% if time_frame == "today" %}selected{% endif %}>Today</option>
                    <option value="weekly" {% if time_frame == "weekly" %}selected{% endif %}>Weekly</option>
                    <option value="monthly" {% if time_frame == "monthly" %}selected{% endif %}>Monthly</option>
                    <option value="quarterly" {% if time_frame == "quarterly" %}selected{% endif %}>Quarterly</option>
                    <option value="yearly" {% if time_frame == "yearly" %}selected{% endif %}>Yearly</option>
                </select>
            </div>
    
            <div class="form-group">
                <label for="state-filter">State:</label>
                <select name="state" id="state-filter">
                    <option value="all" disabled selected hidden>Select State</option>
                    <option value="AP">Andhra Pradesh</option>
                    <option value="AR">Arunachal Pradesh</option>
                    <option value="AS">Assam</option>
                    <option value="BR">Bihar</option>
                    <option value="CG">Chhattisgarh</option>
                    <option value="GA">Goa</option>
                    <option value="GJ">Gujarat</option>
                    <option value="HR">Haryana</option>
                    <option value="HP">Himachal Pradesh</option>
                    <option value="JH">Jharkhand</option>
                    <option value="KA">Karnataka</option>
                    <option value="KL">Kerala</option>
                    <option value="MP">Madhya Pradesh</option>
                    <option value="MH">Maharashtra</option>
                    <option value="MN">Manipur</option>
                    <option value="ML">Meghalaya</option>
                    <option value="MZ">Mizoram</option>
                    <option value="NL">Nagaland</option>
                    <option value="OD">Odisha</option>
                    <option value="PB">Punjab</option>
                    <option value="SK">Sikkim</option>
                    <option value="TN">Tamil Nadu</option>
                    <option value="TG">Telangana</option>
                    <option value="TR">Tripura</option>
                    <option value="UP">Uttar Pradesh</option>
                    <option value="UT">Uttarakhand</option>
                    <option value="WB">West Bengal</option>
                </select>
            </div>
    
            <div class="form-group">
                <label for="zone-filter">Zone:</label>
                <select name="zone" id="zone-filter">
                    <option value="all" disabled selected hidden>Select Zone</option>
                    <option value="North" {% if zone == "North" %}selected{% endif %}>North</option>
                    <option value="South" {% if zone == "South" %}selected{% endif %}>South</option>
                    <option value="East" {% if zone == "East" %}selected{% endif %}>East</option>
                    <option value="West" {% if zone == "West" %}selected{% endif %}>West</option>
                </select>
            </div>

            <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" style="width: 200px;">
                <button class="btn btn-outline-success" type="submit" style="height: 35px;">Search</button>
            </form>
         </div>

      </div>
  </div>
        <img class="attpiechart rotate" src="{% static 'Leads_Count.png' %}" alt="Attendance Chart"> 

      <div class="leadcard" >
        <div class="card1"> 
            <h1  class="totallead">Total Leads: {{Total_Leads}}</h1> 
        </div> 

        <div class="card2"> 
            <h1 class="expectedlead">Expected leads: {{Exp_Leads}}</h1> 
        </div> 
    </div>
    
    <table class="leadsTable">
      <thead>
          <tr>
              <th>Agent Name</th>
          </tr>
      </thead>
    {% for agent in Agents %}
      <tbody><tr>
          <td>{{ agent.user.username }}</td>
      </tr> 
    {% endfor %}
    </tbody>
    </table> 
   
</div>   



<!-- <div class="container1">
  <div class="attpiechart">
      <img class="attpiechart" src="{% static 'Leads_Count.png' %}" alt="Attendance Chart">
  </div>

<div class="card1"> 
  <h1 class="rightpart1">Total Leads: {{Total_Leads}}</h1> 
</div> 
<div class="card3"> 
  <h1 class="rightpart2">Expected Leads: {{Exp_Leads}}</h1> 
</div> -->


  
   
</div>
<script>
  function toggleFilter() {
    var filterForm = document.getElementById("filterForm");
    if (filterForm.style.display === "none") {
        filterForm.style.display = "grid";
    } else {
        filterForm.style.display = "none";
    }
}

function clearForm() {
    document.getElementById("subject").value = "";
    document.getElementById("contactName").value = "";
    document.getElementById("status").value = "";
    document.getElementById("relatedTo").value = "";
    document.getElementById("assignedTo").value = "";
}

function performSearch() {

var subject = document.getElementById("subject").value;
var contactName = document.getElementById("contactName").value;
var status = document.getElementById("status").value;
var relatedTo = document.getElementById("relatedTo").value;
var assignedTo = document.getElementById("assignedTo").value;

var results = "Search results for: \n" +
            "Subject: " + subject + "\n" +
            "Contact Name: " + contactName + "\n" +
            "Status: " + status + "\n" +
            "Related To: " + relatedTo + "\n" +
            "Assigned To: " + assignedTo;

document.getElementById("searchResults").innerText = results;
}
</script>


{% endblock %}